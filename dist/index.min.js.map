{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const Reflect = window.Reflect;\r\nconst { get, ownKeys, set } = Reflect;\r\nconst valuestring = \"value\";\r\nfunction isobject(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring(a) {\r\n    return typeof a === \"string\";\r\n}\r\nfunction objtostylestring(o) {\r\n    return Object.entries(o)\r\n        .map(([key, value]) => key + \":\" + value)\r\n        .join(\";\");\r\n}\r\nfunction asserthtmlelement(ele) {\r\n    if (!(ele instanceof Element)) {\r\n        throw TypeError(\"invalid HTMLElement!\");\r\n    }\r\n    else\r\n        return true;\r\n}\r\nfunction createeleattragentreadwrite(ele) {\r\n    asserthtmlelement(ele);\r\n    const isinputtextortextareaflag = isinputtextortextarea(ele);\r\n    var temp = Object.create(null);\r\n    return new Proxy(temp, {\r\n        ownKeys() {\r\n            const keys = attributesownkeys(ele);\r\n            return isinputtextortextareaflag\r\n                ? Array.from(new Set([...keys, valuestring]))\r\n                : keys;\r\n        },\r\n        get(target, key) {\r\n            if (isinputtextortextareaflag && key === valuestring) {\r\n                return get(ele, valuestring);\r\n            }\r\n            else {\r\n                var v = getattribute(ele, String(key));\r\n                if (!v) {\r\n                    return;\r\n                }\r\n                if (isstring(v)) {\r\n                    try {\r\n                        return JSON.parse(String(v));\r\n                    }\r\n                    catch (error) {\r\n                        return v;\r\n                    }\r\n                }\r\n                else\r\n                    return;\r\n            }\r\n        },\r\n        set(t, key, v) {\r\n            if (isinputtextortextareaflag && key === valuestring) {\r\n                return set(ele, valuestring, v);\r\n            }\r\n            else if (key === \"style\") {\r\n                setattribute(ele, String(key), isstring(v) ? v : isobject(v) ? objtostylestring(v) : String(v));\r\n                return true;\r\n            }\r\n            else {\r\n                setattribute(ele, String(key), isobject(v) ? JSON.stringify(v) : String(v));\r\n                return true;\r\n            }\r\n        },\r\n        deleteProperty(t, k) {\r\n            removeAttribute(ele, String(k));\r\n            return true;\r\n        },\r\n        has(target, key) {\r\n            if (isinputtextortextareaflag && key === valuestring) {\r\n                return true;\r\n            }\r\n            else {\r\n                return hasAttribute(ele, String(key));\r\n            }\r\n        },\r\n        defineProperty() {\r\n            return false;\r\n        },\r\n        getOwnPropertyDescriptor(target, key) {\r\n            const otherdescipter = {\r\n                enumerable: true,\r\n                configurable: true,\r\n                writable: true\r\n            };\r\n            if (isinputtextortextareaflag && key === valuestring) {\r\n                return {\r\n                    value: get(ele, valuestring),\r\n                    ...otherdescipter\r\n                };\r\n            }\r\n            else {\r\n                var attr = getattribute(ele, String(key));\r\n                if (attr) {\r\n                    return {\r\n                        value: attr,\r\n                        ...otherdescipter\r\n                    };\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction attributesownkeys(ele) {\r\n    return ownKeys(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\r\n}\r\nfunction getattribute(ele, key) {\r\n    return ele.getAttribute(key);\r\n}\r\nfunction geteletagname(ele) {\r\n    return ele.tagName.toLowerCase();\r\n}\r\nfunction setattribute(ele, key, value) {\r\n    return ele.setAttribute(key, value);\r\n}\r\nfunction removeAttribute(ele, key) {\r\n    return ele.removeAttribute(key);\r\n}\r\nfunction hasAttribute(ele, key) {\r\n    return ele.hasAttribute(key);\r\n}\r\nfunction isinputtextortextarea(ele) {\r\n    const tagname = geteletagname(ele);\r\n    return ((tagname === \"input\" && get(ele, \"type\") === \"text\") ||\r\n        tagname === \"textarea\");\r\n}\n\nexport default createeleattragentreadwrite;\n//# sourceMappingURL=index.js.map\n"],"names":["Reflect","window","get","ownKeys","set","valuestring","isobject","a","isstring","getattribute","ele","key","getAttribute","setattribute","value","setAttribute","Element","TypeError","asserthtmlelement","isinputtextortextareaflag","tagname","tagName","toLowerCase","geteletagname","isinputtextortextarea","temp","Object","create","Proxy","[object Object]","keys","attributes","filter","k","test","String","attributesownkeys","Array","from","Set","target","v","JSON","parse","error","t","o","entries","map","join","stringify","deleteProperty","removeAttribute","has","hasAttribute","defineProperty","otherdescipter","enumerable","configurable","writable","attr"],"mappings":"AAAA,MAAMA,EAAUC,OAAOD,SACjBE,IAAEA,EAAGC,QAAEA,EAAOC,IAAEA,GAAQJ,EACxBK,EAAc,QACpB,SAASC,EAASC,GACd,MAAoB,iBAANA,GAAwB,OAANA,EAEpC,SAASC,EAASD,GACd,MAAoB,iBAANA,EAwGlB,SAASE,EAAaC,EAAKC,GACvB,OAAOD,EAAIE,aAAaD,GAK5B,SAASE,EAAaH,EAAKC,EAAKG,GAC5B,OAAOJ,EAAIK,aAAaJ,EAAKG,kBAjGjC,SAAqCJ,IAPrC,SAA2BA,GACvB,GAAMA,aAAeM,QAIjB,OAAO,EAHP,MAAMC,UAAU,wBAMpBC,CAAkBR,GAClB,MAAMS,EAuGV,SAA+BT,GAC3B,MAAMU,EAbV,SAAuBV,GACnB,OAAOA,EAAIW,QAAQC,cAYHC,CAAcb,GAC9B,MAAqB,UAAZU,GAA4C,SAArBlB,EAAIQ,EAAK,SACzB,aAAZU,EA1G8BI,CAAsBd,GACxD,IAAIe,EAAOC,OAAOC,OAAO,MACzB,OAAO,IAAIC,MAAMH,EAAM,CACnBI,UACI,MAAMC,EAiFlB,SAA2BpB,GACvB,OAAOP,EAAQO,EAAIqB,YAAYC,OAAOC,IAAM,KAAKC,KAAKC,OAAOF,GAAG,KAlF3CG,CAAkB1B,GAC/B,OAAOS,EACDkB,MAAMC,KAAK,IAAIC,IAAI,IAAIT,EAAMzB,KAC7ByB,GAEVD,IAAIW,EAAQ7B,GACR,GAAIQ,GAA6BR,IAAQN,EACrC,OAAOH,EAAIQ,EAAKL,GAGhB,IAAIoC,EAAIhC,EAAaC,EAAKyB,OAAOxB,IACjC,GAAK8B,GAGDjC,EAASiC,GACT,IACI,OAAOC,KAAKC,MAAMR,OAAOM,IAE7B,MAAOG,GACH,OAAOH,IAOvBZ,IAAIgB,EAAGlC,EAAK8B,GACR,OAAItB,GAA6BR,IAAQN,EAC9BD,EAAIM,EAAKL,EAAaoC,GAEhB,UAAR9B,GACLE,EAAaH,EAAKyB,OAAOxB,GAAMH,EAASiC,GAAKA,EAAInC,EAASmC,IAjDhDK,EAiDsEL,EAhDrFf,OAAOqB,QAAQD,GACjBE,IAAI,EAAErC,EAAKG,KAAWH,EAAM,IAAMG,GAClCmC,KAAK,MA8CuFd,OAAOM,KACrF,IAGP5B,EAAaH,EAAKyB,OAAOxB,GAAML,EAASmC,GAAKC,KAAKQ,UAAUT,GAAKN,OAAOM,KACjE,GAtDvB,IAA0BK,GAyDlBK,eAAc,CAACN,EAAGZ,KAsD1B,SAAyBvB,EAAKC,GACnBD,EAAI0C,gBAAgBzC,GAtDnByC,CAAgB1C,EAAKyB,OAAOF,KACrB,GAEXoB,IAAG,CAACb,EAAQ7B,OACJQ,GAA6BR,IAAQN,IAoDrD,SAAsBK,EAAKC,GACvB,OAAOD,EAAI4C,aAAa3C,GAjDL2C,CAAa5C,EAAKyB,OAAOxB,IAGxC4C,eAAc,KACH,EAEX1B,yBAAyBW,EAAQ7B,GAC7B,MAAM6C,EAAiB,CACnBC,YAAY,EACZC,cAAc,EACdC,UAAU,GAEd,GAAIxC,GAA6BR,IAAQN,EACrC,MAAO,CACHS,MAAOZ,EAAIQ,EAAKL,MACbmD,GAIP,IAAII,EAAOnD,EAAaC,EAAKyB,OAAOxB,IACpC,OAAIiD,EACO,CACH9C,MAAO8C,KACJJ,QAIP"}