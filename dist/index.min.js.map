{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const Reflect = window.Reflect;\n\nconst {get: get, ownKeys: ownKeys, set: set} = Reflect;\n\nconst valuestring = \"value\";\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction objtostylestring(o) {\n    return Object.entries(o).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof Element)) {\n        throw TypeError(\"invalid HTMLElement!\");\n    } else return true;\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    const isinputtextortextareaflag = isinputtextortextarea(ele);\n    var temp = Object.create(null);\n    return new Proxy(temp, {\n        ownKeys() {\n            const keys = attributesownkeys(ele);\n            return isinputtextortextareaflag ? Array.from(new Set([ ...keys, valuestring ])) : keys;\n        },\n        get(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return get(ele, valuestring);\n            } else {\n                const v = getattribute(ele, String(key));\n                if (!v) {\n                    return;\n                }\n                if (v === \"\") {\n                    return true;\n                }\n                if (isstring(v)) {\n                    try {\n                        return JSON.parse(String(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return set(ele, valuestring, v);\n            } else if (key === \"style\") {\n                setattribute(ele, String(key), isstring(v) ? v : isobject(v) ? objtostylestring(v) : String(v));\n                return true;\n            } else {\n                if (v === true) {\n                    v = \"\";\n                }\n                setattribute(ele, String(key), isobject(v) ? JSON.stringify(v) : String(v));\n                return true;\n            }\n        },\n        deleteProperty(t, k) {\n            removeAttribute(ele, String(k));\n            return true;\n        },\n        has(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return true;\n            } else {\n                return hasAttribute(ele, String(key));\n            }\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            if (isinputtextortextareaflag && key === valuestring) {\n                return {\n                    value: get(ele, valuestring),\n                    ...otherdescipter\n                };\n            } else {\n                const attr = getattribute(ele, String(key));\n                let outvalue;\n                if (attr === \"\") {\n                    outvalue = true;\n                }\n                if (outvalue) {\n                    return {\n                        value: outvalue,\n                        ...otherdescipter\n                    };\n                } else {\n                    return;\n                }\n            }\n        }\n    });\n}\n\nfunction attributesownkeys(ele) {\n    return ownKeys(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\n}\n\nfunction getattribute(ele, key) {\n    return ele.getAttribute(key);\n}\n\nfunction geteletagname(ele) {\n    return ele.tagName.toLowerCase();\n}\n\nfunction setattribute(ele, key, value) {\n    return ele.setAttribute(key, value);\n}\n\nfunction removeAttribute(ele, key) {\n    return ele.removeAttribute(key);\n}\n\nfunction hasAttribute(ele, key) {\n    return ele.hasAttribute(key);\n}\n\nfunction isinputtextortextarea(ele) {\n    const tagname = geteletagname(ele);\n    return tagname === \"input\" && get(ele, \"type\") === \"text\" || tagname === \"textarea\";\n}\n\nexport default createeleattragentreadwrite;\n//# sourceMappingURL=index.js.map\n"],"names":["Reflect","window","get","ownKeys","set","valuestring","isobject","a","isstring","getattribute","ele","key","getAttribute","setattribute","value","setAttribute","Element","TypeError","asserthtmlelement","isinputtextortextareaflag","tagname","tagName","toLowerCase","geteletagname","isinputtextortextarea","temp","Object","create","Proxy","[object Object]","keys","attributes","filter","k","test","String","attributesownkeys","Array","from","Set","target","v","JSON","parse","error","t","o","entries","map","join","stringify","deleteProperty","removeAttribute","has","hasAttribute","defineProperty","otherdescipter","enumerable","configurable","writable","outvalue"],"mappings":"AAAA,MAAMA,EAAUC,OAAOD,SAEhBE,IAAKA,EAAKC,QAASA,EAASC,IAAKA,GAAOJ,EAEzCK,EAAc,QAEpB,SAASC,EAASC,GACd,MAAoB,iBAANA,GAAwB,OAANA,EAGpC,SAASC,EAASD,GACd,MAAoB,iBAANA,EAwGlB,SAASE,EAAaC,EAAKC,GACvB,OAAOD,EAAIE,aAAaD,GAO5B,SAASE,EAAaH,EAAKC,EAAKG,GAC5B,OAAOJ,EAAIK,aAAaJ,EAAKG,kBApGjC,SAAqCJ,IANrC,SAA2BA,GACvB,GAAMA,aAAeM,QAEd,OAAO,EADV,MAAMC,UAAU,wBAKpBC,CAAkBR,GAClB,MAAMS,EA6GV,SAA+BT,GAC3B,MAAMU,EAjBV,SAAuBV,GACnB,OAAOA,EAAIW,QAAQC,cAgBHC,CAAcb,GAC9B,MAAmB,UAAZU,GAA4C,SAArBlB,EAAIQ,EAAK,SAAkC,aAAZU,EA/G3BI,CAAsBd,GACxD,IAAIe,EAAOC,OAAOC,OAAO,MACzB,OAAO,IAAIC,MAAMH,EAAM,CACnBI,UACI,MAAMC,EAiFlB,SAA2BpB,GACvB,OAAOP,EAAQO,EAAIqB,YAAYC,OAAOC,IAAM,KAAKC,KAAKC,OAAOF,GAAG,KAlF3CG,CAAkB1B,GAC/B,OAAOS,EAA4BkB,MAAMC,KAAK,IAAIC,IAAI,IAAKT,EAAMzB,KAAkByB,GAEvFD,IAAIW,EAAQ7B,GACR,GAAIQ,GAA6BR,IAAQN,EACrC,OAAOH,EAAIQ,EAAKL,GACb,CACH,MAAMoC,EAAIhC,EAAaC,EAAKyB,OAAOxB,IACnC,IAAK8B,EACD,OAEJ,GAAU,KAANA,EACA,OAAO,EAEX,IAAIjC,EAASiC,GAMN,OALH,IACI,OAAOC,KAAKC,MAAMR,OAAOM,IAC3B,MAAOG,GACL,OAAOH,KAKvBZ,IAAIgB,EAAGlC,EAAK8B,GACR,OAAItB,GAA6BR,IAAQN,EAC9BD,EAAIM,EAAKL,EAAaoC,GACd,UAAR9B,GACPE,EAAaH,EAAKyB,OAAOxB,GAAMH,EAASiC,GAAKA,EAAInC,EAASmC,IA3ChDK,EA2CsEL,EA1CrFf,OAAOqB,QAAQD,GAAGE,IAAI,EAAErC,EAAKG,KAAWH,EAAM,IAAMG,GAAOmC,KAAK,MA0C0Bd,OAAOM,KACrF,KAEG,IAANA,IACAA,EAAI,IAER5B,EAAaH,EAAKyB,OAAOxB,GAAML,EAASmC,GAAKC,KAAKQ,UAAUT,GAAKN,OAAOM,KACjE,GAlDvB,IAA0BK,GAqDlBK,eAAc,CAACN,EAAGZ,KA4D1B,SAAyBvB,EAAKC,GACnBD,EAAI0C,gBAAgBzC,GA5DnByC,CAAgB1C,EAAKyB,OAAOF,KACrB,GAEXoB,IAAG,CAACb,EAAQ7B,OACJQ,GAA6BR,IAAQN,IA2DrD,SAAsBK,EAAKC,GACvB,OAAOD,EAAI4C,aAAa3C,GAzDL2C,CAAa5C,EAAKyB,OAAOxB,IAGxC4C,eAAc,KACH,EAEX1B,yBAAyBW,EAAQ7B,GAC7B,MAAM6C,EAAiB,CACnBC,YAAY,EACZC,cAAc,EACdC,UAAU,GAEd,GAAIxC,GAA6BR,IAAQN,EACrC,MAAO,CACHS,MAAOZ,EAAIQ,EAAKL,MACbmD,GAEJ,CAEH,IAAII,EAIJ,MAHa,KAFAnD,EAAaC,EAAKyB,OAAOxB,MAGlCiD,GAAW,GAEXA,EACO,CACH9C,MAAO8C,KACJJ,QAGP"}